ROOT=../..

include $(ROOT)/config.mk

CFLAGS += -I. -Iinclude -Iregex -Idb/include -Icurses
CPPFLAGS += -D_CURSES_PRIVATE -D__DBINTERFACE_PRIVATE -D__REGEX_PRIVATE -D_BSD_SOURCE
LDFLAGS += $(ROOT)/lib/termcap/libtermcap.a
BIN = nvi
COBJS= curses/addbytes.o\
	curses/addch.o\
	curses/box.o\
	curses/clear.o\
	curses/clrtobot.o\
	curses/clrtoeol.o\
	curses/cr_put.o\
	curses/ctrace.o\
	curses/cur_hash.o\
	curses/curses.o\
	curses/delch.o\
	curses/deleteln.o\
	curses/delwin.o\
	curses/erase.o\
	curses/fullname.o\
	curses/getch.o\
	curses/getstr.o\
	curses/id_subwins.o\
	curses/idlok.o\
	curses/initscr.o\
	curses/insch.o\
	curses/insertln.o\
	curses/longname.o\
	curses/move.o\
	curses/mvwin.o\
	curses/newwin.o\
	curses/overlay.o\
	curses/overwrite.o\
	curses/putchar.o\
	curses/refresh.o\
	curses/scroll.o\
	curses/setterm.o\
	curses/standout.o\
	curses/toucholap.o\
	curses/touchwin.o\
	curses/tscroll.o\
	curses/tstp.o\
	curses/tty.o\
	curses/unctrl.o\
	curses/waddnstr.o
CLOBJS=	cl/cl_bsd.o\
	cl/cl_funcs.o\
	cl/cl_main.o\
	cl/cl_read.o\
	cl/cl_screen.o\
	cl/cl_term.o
DBOBJS=	db/db/db.o\
	db/mpool/mpool.o\
	db/btree/bt_close.o\
	db/btree/bt_conv.o\
	db/btree/bt_debug.o\
	db/btree/bt_delete.o\
	db/btree/bt_get.o\
	db/btree/bt_open.o\
	db/btree/bt_overflow.o\
	db/btree/bt_page.o\
	db/btree/bt_put.o\
	db/btree/bt_search.o\
	db/btree/bt_seq.o\
	db/btree/bt_split.o\
	db/btree/bt_utils.o\
	db/recno/rec_close.o\
	db/recno/rec_delete.o\
	db/recno/rec_get.o\
	db/recno/rec_open.o\
	db/recno/rec_put.o\
	db/recno/rec_search.o\
	db/recno/rec_seq.o\
	db/recno/rec_utils.o
REOBJS=	regex/regcomp.o\
	regex/regerror.o\
	regex/regexec.o\
	regex/regfree.o
VIOBJS= common/cut.o\
	common/delete.o\
	ex/ex.o\
	ex/ex_abbrev.o\
	ex/ex_append.o\
	ex/ex_args.o\
	ex/ex_argv.o\
	ex/ex_at.o\
	ex/ex_bang.o\
	ex/ex_cd.o\
	ex/ex_cmd.o\
	ex/ex_cscope.o\
	ex/ex_delete.o\
	ex/ex_display.o\
	ex/ex_edit.o\
	ex/ex_equal.o\
	ex/ex_file.o\
	ex/ex_filter.o\
	ex/ex_global.o\
	ex/ex_init.o\
	ex/ex_join.o\
	ex/ex_map.o\
	ex/ex_mark.o\
	ex/ex_mkexrc.o\
	ex/ex_move.o\
	ex/ex_open.o\
	ex/ex_perl.o\
	ex/ex_preserve.o\
	ex/ex_print.o\
	ex/ex_put.o\
	ex/ex_quit.o\
	ex/ex_read.o\
	ex/ex_screen.o\
	ex/ex_script.o\
	ex/ex_set.o\
	ex/ex_shell.o\
	ex/ex_shift.o\
	ex/ex_source.o\
	ex/ex_stop.o\
	ex/ex_subst.o\
	ex/ex_tag.o\
	ex/ex_tcl.o\
	ex/ex_txt.o\
	ex/ex_undo.o\
	ex/ex_usage.o\
	ex/ex_util.o\
	ex/ex_version.o\
	ex/ex_visual.o\
	ex/ex_write.o\
	ex/ex_yank.o\
	ex/ex_z.o\
	common/exf.o\
	vi/getc.o\
	common/key.o\
	common/line.o\
	common/log.o\
	common/main.o\
	common/mark.o\
	common/msg.o\
	common/options.o\
	common/options_f.o\
	common/put.o\
	common/recover.o\
	common/screen.o\
	common/search.o\
	common/seq.o\
	common/util.o\
	vi/v_at.o\
	vi/v_ch.o\
	vi/v_cmd.o\
	vi/v_delete.o\
	vi/v_ex.o\
	vi/v_increment.o\
	vi/v_init.o\
	vi/v_itxt.o\
	vi/v_left.o\
	vi/v_mark.o\
	vi/v_match.o\
	vi/v_paragraph.o\
	vi/v_put.o\
	vi/v_redraw.o\
	vi/v_replace.o\
	vi/v_right.o\
	vi/v_screen.o\
	vi/v_scroll.o\
	vi/v_search.o\
	vi/v_section.o\
	vi/v_sentence.o\
	vi/v_status.o\
	vi/v_txt.o\
	vi/v_ulcase.o\
	vi/v_undo.o\
	vi/v_util.o\
	vi/v_word.o\
	vi/v_xchar.o\
	vi/v_yank.o\
	vi/v_z.o\
	vi/v_zexit.o\
	vi/vi.o\
	vi/vs_line.o\
	vi/vs_msg.o\
	vi/vs_refresh.o\
	vi/vs_relative.o\
	vi/vs_smap.o\
	vi/vs_split.o
OBJS = $(COBJS) $(CLOBJS) $(DBOBJS) $(REOBJS) $(VIOBJS)

include $(ROOT)/mk/bin.mk
